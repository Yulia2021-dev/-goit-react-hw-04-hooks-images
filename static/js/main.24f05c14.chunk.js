(this["webpackJsonp-goit-react-hw-04-hooks-images"]=this["webpackJsonp-goit-react-hw-04-hooks-images"]||[]).push([[0],{23:function(e,t,n){},45:function(e,t,n){},47:function(e,t,n){},59:function(e,t,n){},60:function(e,t,n){},62:function(e,t,n){},63:function(e,t,n){"use strict";n.r(t);var r=n(0),c=n(7),a=n.n(c),o=(n(23),n(5)),s=n.n(o),i=n(4),u=n(9),b=n(3),l=n(16),j=n.n(l),f=(n(45),n(6)),h=n(2),m=function(e){var t=e.onSubmit,n=Object(r.useState)(""),c=Object(b.a)(n,2),a=c[0],o=c[1];return Object(h.jsx)("header",{className:"searchbar",children:Object(h.jsxs)("form",{className:"searchForm",onSubmit:function(e){e.preventDefault(),""!==a.trim()?(t(a),o("")):f.b.error("Enter correct name!")},children:[Object(h.jsx)("button",{type:"submit",className:"searchForm-button",children:Object(h.jsx)("span",{className:"searchForm-button"})}),Object(h.jsx)("input",{className:"searchForm-input",type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos",onChange:function(e){o(e.currentTarget.value.toLowerCase())},value:a})]})})},p=(n(47),n(17)),O=(n(58),function(e){var t=e.id,n=e.webformatURL,c=e.largeImageURL,a=Object(r.useState)(!1),o=Object(b.a)(a,2),s=o[0],i=o[1];return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("li",{className:"imageGalleryItem",onClick:function(){return i(!0)},children:Object(h.jsx)("img",{src:n,alt:"pic-".concat(t),className:"imageGalleryItem-image"})},t),s&&Object(h.jsx)(p.a,{mainSrc:c,onCloseRequest:function(){return i(!1)}})]})}),g=(n(59),function(e){var t=e.result;return Object(h.jsx)("ul",{className:"gallery",children:t.map((function(e){return Object(h.jsx)(O,{id:e.id,largeImageURL:e.largeImageURL,webformatURL:e.webformatURL},e.id)}))})}),d=(n(60),function(e){var t=e.onClick;return Object(h.jsx)("button",{className:"button",type:"button",onClick:t,children:"Load more"})}),x=(n(61),n(62),function(){var e=Object(u.a)(s.a.mark((function e(t,n){var r,c;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r="".concat("https://pixabay.com/api","/?image_type=photo&orientation=horizontal&q=").concat(t,"&page=").concat(n,"&per_page=12&key=").concat("23670564-24f7dd7b8f7c27899fb90c8ea"),e.next=3,fetch(r);case 3:return c=e.sent,e.next=6,c.json();case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),w=x,v=function(){var e=Object(r.useState)(""),t=Object(b.a)(e,2),n=t[0],c=t[1],a=Object(r.useState)([]),o=Object(b.a)(a,2),l=o[0],p=o[1],O=Object(r.useState)("idle"),x=Object(b.a)(O,2),v=x[0],y=x[1],k=Object(r.useState)(1),N=Object(b.a)(k,2),S=N[0],C=N[1],L=function(){var e=Object(u.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:""!==n&&(p([]),y("pending"),E(S,F(n),R(n)).then((function(e){var t=e.hits;if(0===t.length)throw new Error(F(n));if(t.length<12)throw p([].concat(Object(i.a)(l),Object(i.a)(t))),new Error(R(n));y("resolved"),p([].concat(Object(i.a)(l),Object(i.a)(t))),C(S+1)})));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),E=function(){var e=Object(u.a)(s.a.mark((function e(t,r,c){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,w(n,t);case 3:return e.abrupt("return",e.sent);case 6:e.prev=6,e.t0=e.catch(0),f.b.error(e.t0.message),y("idle");case 10:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t,n,r){return e.apply(this,arguments)}}(),F=function(e){return'No images found for "'.concat(e,'". Try again.')},R=function(e){return'No more images found for "'.concat(e,'".')};return Object(r.useEffect)((function(){""!==n&&(p([]),y("pending"),E(S,F(n),R(n)).then((function(e){try{var t=e.hits;if(0===t.length)throw new Error(F(n));if(t.length<12)throw p([].concat(Object(i.a)(l),Object(i.a)(t))),new Error(R(n));y("resolved"),p([].concat(Object(i.a)(l),Object(i.a)(t))),C(S+1),window.scrollBy({top:1e3,behavior:"smooth"})}catch(r){f.b.error(r.message),y("idle")}})))}),[n]),Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(m,{onSubmit:function(e){c(e),p([])}}),Object(h.jsx)(g,{result:l}),"resolved"===v&&Object(h.jsx)(d,{onClick:L}),"pending"===v&&Object(h.jsx)(j.a,{type:"ThreeDots",color:"#995471",width:100,style:{textAlign:"center"}}),Object(h.jsx)(f.a,{position:"top-right",autoClose:3e3})]})};a.a.render(Object(h.jsx)(v,{}),document.getElementById("root"))}},[[63,1,2]]]);
//# sourceMappingURL=main.24f05c14.chunk.js.map